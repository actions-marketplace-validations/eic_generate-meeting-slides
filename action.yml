name: 'Generate meeting slides'
description: 'Create a pdf presentation with PR and issue overview'
branding:
  icon: 'monitor'
  color: 'blue'
inputs:
  config:
    description: 'Configuration yaml snippet (see https://pypi.org/project/mtng/)'
    required: true
  since:
    description: 'Meta-date since when slides should be made'
    required: false
    default: '1 week ago'
runs:
  using: "composite"
  steps:
    - run: |
        python -m pip install mtng
        echo "${{ inputs.config }}" | tee config.yml
        since=$(date --date="${{ inputs.since }}" +'%Y-%m-%d %H:%M:%S')
        mtng generate --token ${{ github.GITHUB_TOKEN }} --since ${since} config.yml
      shell: bash
